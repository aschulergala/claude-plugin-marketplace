{
  "PostToolUse": [
    {
      "matcher": "gala_launchpad_.*",
      "hooks": [
        {
          "type": "prompt",
          "prompt": "Check the result of the gala_launchpad_* tool call. FIRST: look for patterns indicating the MCP server is not installed — error messages containing 'unknown tool', 'tool not found', 'no tool matching', 'not available', or 'cannot find tool'. If you detect this pattern, DO NOT call any more gala_launchpad_* tools (they will also fail). Instead, immediately tell the user: '⚠️ The GalaChain MCP server is not installed in this Claude Code session. To use the 307 MCP tools, you need to add the server to your Claude Code config. Run `/galachain:setup` for the setup wizard, or manually add it to ~/.claude/claude_desktop_config.json:\n\n```json\n{\n  \"mcpServers\": {\n    \"gala-launchpad\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@gala-chain/launchpad-mcp-server\"],\n      \"env\": { \"ENVIRONMENT\": \"production\" }\n    }\n  }\n}\n```\n\nChange `\"production\"` to `\"qa1\"`, `\"staging\"`, or `\"development\"` as needed. After adding it, restart Claude Code and try again. In the meantime, I can still teach you about GalaChain concepts from my built-in knowledge — just ask!' SECOND: if the error is NOT a missing-server error (tool was found but returned a runtime error), then follow the original recovery: identify the failing feature, call gala_launchpad_explain_sdk_usage with the most relevant topic (buy-tokens, sell-tokens, balances, installation, etc.), and present teaching content to help them fix it."
        }
      ]
    }
  ]
}
